<html:html 	xmlns="http://www.w3.org/1999/xhtml"
			xmlns:jsp="http://java.sun.com/JSP/Page"
			xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
			xmlns:c="http://java.sun.com/jsp/jstl/core"
			xmlns:html="http://struts.apache.org/tags-html"
			xmlns:tiles="http://struts.apache.org/tags-tiles"
			xmlns:customtag="urn:jsptagdir:/WEB-INF/tags"
			locale="true">

<jsp:output doctype-root-element="html" 
    doctype-public="-//W3C//DTD XHTML 1.0 Strict//EN"
    doctype-system="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"
    omit-xml-declaration="true"/>
    
<jsp:directive.page contentType="text/html; charset=iso-8859-1"/>   
<fmt:setLocale value='${sessionScope["org.apache.struts.action.LOCALE"]}' scope="session"/>

<!-- HTML header. -->
<tiles:useAttribute name="title" />
<tiles:useAttribute name="color" />
<tiles:useAttribute name="frontPageWindow_selected_tag" />
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
  <link rel="icon" href="/favicon.ico"/>
  
  <title>
  	<fmt:message key="Thearsmonsters"/><c:out value=" - "/><fmt:message key="${title}"/>
  </title>
  
  <!-- Stylesheets -->
  <customtag:include_stylesheets root="/css" files="
  		reset_defaults, common_styles, forms, window_tag_and_colors, 
  		front_page, pikachoose, tipTip "/>
  
  <!-- JavaScripts -->
  <customtag:include_javascripts root="/javascript" files="
  		lib/jquery, lib/jquery.tipTip, lib/thearsmonsters_lib,
  		front_page_layout "/>
  		
  <![CDATA[
  	<script type='text/javascript'>$(function(){ 
  		$('#login').focus(); // give focus in the login form
  	});</script>
  ]]> 

  <![CDATA[
  <!--[if lt IE 7]>
    <script type="text/javascript">
	       alert("Estas usando un navegador antiguo. Por favor, utiliza Firefox, Safari, Google Chrome, o al menos una version nueva del Internet Explorer");
    </script>
  <![endif]-->
  ]]>

</head>

<!-- Start of HTML body. -->

<body id="frontPage">
<div id="background_header">
	<div id="window" class="${color}_window">
	
		<!-- Login Panel. -->
		<div id="loginPanel" class="${color}_window">
		  	<div class="rounded_window">
			  	<div class="atMiddle">
					<c:choose>
					    <c:when test="${not empty my.lair}"> <!-- Cuando el usuario esta logeado pero entra igual en la portada -->
					       <div id="loginWelcome">
					           <span class="message"><fmt:message key="FrontPage.welcomeUser"><fmt:param value="${my.login}"/></fmt:message></span>
					           <a href="/lair.do"><fmt:message key="FrontPage.goToLair"/></a> | <a href="/userprofile/logout.do"><fmt:message key="FrontPage.logout"/></a>
					       </div>
				        </c:when>
				        <c:otherwise>
                            <!-- content -->
                            <html:form action="userprofile/login.do" focus="login">
                                <c:set var="loginError"><html:errors property="login"/></c:set>
                                <c:set var="passwordError"><html:errors property="password"/></c:set>
                                <c:if test="${not empty loginError or not empty passwordError}">
                                    <div class="loginErrors" style="display: none;">
                                        <html:errors property="login"/>
                                        <html:errors property="password"/>
                                    </div>
                                    <![CDATA[<script type='text/javascript'>$(function(){
                                        $('.loginErrors').slideDown('slow'); // jQuery effect for the login Errors
                                    });</script>]]> 
                                </c:if>
                                
                                <span class="loginBlock">
                                    <label for="login"><fmt:message key="AuthenticationContent.user"/></label>
                                    <html:text property="login" size="12" maxlength="30" styleId="login"/>
                                </span>
                                <span class="loginBlock">
                                    <label for="password"><fmt:message key="AuthenticationContent.pass"/></label>
                                    <html:password property="password" size="12" maxlength="8" styleId="password"/>
                                </span>
                                <span class="loginBlock">
                                    <html:checkbox property="rememberMyPassword" styleId="remember"/>
                                    <label for="remember"><fmt:message key="AuthenticationContent.rememberMyPassword"/></label>
                                </span>
                                <span class="button">
                                    <html:submit><fmt:message key="Buttons.login"/></html:submit>
                                </span>
                           </html:form>
                        </c:otherwise>
				    </c:choose>
					
				</div>
				
				<!-- Window Bottom: Builded with the same structure than customtag:window -->
				<div class="atBottom" style="float:left; width:770px">
					<div class="bl" style="float:left"><img src="/images/theme/empty_pixel.png"/></div>
					<div class="bm" style="float:left; width:760px"><img src="/images/theme/empty_pixel.png"/></div>
					<div class="br" style="float:left"><img src="/images/theme/empty_pixel.png"/></div>
				</div>
			</div>
		</div>
	
		<!-- Logo and monsters illustration -->
		<div id="monsters_logo_wrapper">
			<div id="monsters_logo"><img src="/images/theme/empty_pixel.png"/></div>
		</div>
	
		<!-- Info Panel (bottom). -->	
		<customtag:window id="frontPageWindow" selected_tag="${frontPageWindow_selected_tag}" tags="
					start: FrontPage.startTag => welcome.do,
					screenshots: FrontPage.screenshots => screenshots.do,
					concept_art: FrontPage.conceptArt => concept_art.do,
					release_info: NotImplementedPage.frontPageTag => not_implemented_page_front_page.do,
					credits: FrontPage.credits => credits.do, 
					register: FrontPage.registerTag => userprofile/register.do?action=REGISTER">
			<tiles:get name="content"/>
		</customtag:window>
		
		<!-- Body footer. -->
		<div id="footer">
		  <tiles:get name="footer"/>
		</div>
	
	</div><!--/window-->
</div>
</body>

<!-- End of HTML. -->

</html:html>
